(function(e){e.typecards=function(){var t={menuState:"closed",speed:.4,vpHeight:function(){return e(window).height()},margTop:function(){return t.vpHeight()>300?(t.vpHeight()-300)*.5:0},offSet:function(){return t.vpHeight()<600?t.vpHeight()*.85:t.vpHeight()*.9},setCardHeight:function(){e(t.main).height(t.vpHeight())},setCharMargin:function(){var n=t.vpHeight()>300?(t.vpHeight()-300)*.5:0;e(t.char).css("margin-top",n)},setAppStyles:function(){var n=".main{height:"+t.vpHeight()+"px;} .character{margin-top:"+t.margTop()+"px;} #anatomy_slider.open{-webkit-transform:translate3d(0,-"+t.offSet()+"px,0); -moz-transform:translate3d(0,-"+t.offSet()+"px,0); ransform:translate3d(0,-"+t.offSet()+"px,0);}";e("#app-styles").length===0?e("body").append('<style id="app-styles">'+n+"</style>"):e("#app-styles").html(n)},initiateResizeListener:function(){e(window).resize(function(){t.setAppStyles()})},isOpen:function(){return t.menuState==="open"?!0:!1},showMenu:function(){e("#anatomy_slider").addClass("open")},hideMenu:function(){e("#anatomy_slider").removeClass("open")},addAnimations:function(t){var n="#anatomy_slider{-webkit-transition: all "+t+"s;-moz-transition: all "+t+"s;transition:all "+t+"s;}";e("body").append('<style id="animations">'+n+"</style>")},removeAnimations:function(t){setTimeout(function(){e("#animations").remove()},t*1e3)},openMenu:function(e){t.addAnimations(e);t.showMenu();t.removeAnimations(e);t.menuState="open"},closeMenu:function(e){t.addAnimations(e);t.hideMenu();t.removeAnimations(e);t.menuState="closed"},triggerMenu:function(){t.menuState==="open"?t.closeMenu(t.speed):t.openMenu(t.speed)},flipCard:function(t){var n=e(t).closest(".card");n.toggleClass("flipped")},isMenuTrigger:function(t){var n=e(".menu-btn, #all-cards");return t.closest(n).length?!0:!1},isFlipTrigger:function(e){return e.closest(".card-body").length?!0:!1},initiateClickListeners:function(){e("body").on("click",function(n){var r=e(n.target);t.isMenuTrigger(r)?t.triggerMenu(.5):t.isFlipTrigger(r)&&(t.menuState==="closed"?t.flipCard(r):t.closeMenu(.5))})},initiateTouchListeners:function(){var n,r,i,s,o,u,a,f=t.offSet()*.5,l=t.speed*.5;e(".menu-btn").on("touchstart",function(e){n=event.touches[0];r=n.pageY;i=r;e.preventDefault()});e(".menu-btn").on("touchmove",function(u){n=event.touches[0];i=n.pageY;s=i-r;if(s>0){o=s;a="translate3d(0,-"+(t.offSet()-o)+"px,0)"}else{o=s*-1;a="translate3d(0,-"+o+"px,0)"}i<t.offSet()&&s>0&&t.menuState==="open"?e("#anatomy_slider").css("-webkit-transform",a):s<0&&i>t.vpHeight()-t.offSet()&&t.menuState==="closed"&&e("#anatomy_slider").css("-webkit-transform",a);u.preventDefault()});e(".menu-btn").on("touchend",function(){u=i;if(u===r&&t.menuState==="closed"){e("#anatomy_slider").removeAttr("style");t.openMenu(t.speed)}else if(u===r&&t.menuState==="open"){e("#anatomy_slider").removeAttr("style");t.closeMenu(t.speed)}else if(i<f){e("#anatomy_slider").removeAttr("style");t.openMenu(l)}else{e("#anatomy_slider").removeAttr("style");t.closeMenu(l)}})},init:function(){t.setAppStyles();t.initiateResizeListener();t.initiateClickListeners();t.initiateTouchListeners();setTimeout(function(){t.openMenu(.5)},300)}};return{on:t.init,trigger:t.triggerMenu,open:t.openMenu,close:t.closeMenu}}})(jQuery);